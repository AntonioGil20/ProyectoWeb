<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>App Tacos Web</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background-color: #f5f5f5;
    }

    /* NAVBAR SUPERIOR */
    .navbar {
      display: grid;
      grid-template-columns: auto 1fr auto;
      align-items: center;
      background-color: #201D1E;
      padding: 15px 20px;
      color: white;
    }

    .nav-icons {
      display: flex;
      align-items: center;
      gap: 25px;
    }

    .navbar img {
      width: 40px;
      height: 40px;
      cursor: pointer;
      transition: transform 0.2s ease;
    }
    
    .nav-icons .logo {
      width: 45px !important;
      height: 40px !important;
    }

    .navbar img:hover {
      transform: scale(1.1);
    }

    .divider {
      height: 30px;
      width: 1px;
      background-color: gray;
    }

    .datetime {
      text-align: center;
      font-family: 'Lucida Console', monospace;
      font-size: 15px;
      margin-right: 300px; /* Valor intermedio entre los dos originales */
    }

    /* CONTENEDOR DE VISTAS */
    .view-container {
      padding: 20px;
    }

    .view {
      display: none;
    }

    .view.active {
      display: block;
    }

    #errorMessage {
      color: red;
      text-align: center;
      margin-top: 10px;
    }
  </style>
</head>
<script>
  function cargarVista(vista) {
    let ruta = "";
    switch (vista) {
      case "menu":
        ruta = "alimentos.html";
        break;
      case "bebidas":
        ruta = "bebidas.html";
        break;
      case "usuarios":
        ruta = "usuarios.html";
        break;
      case "mesas":
        ruta = "mesas.html";
        break;
      case "editarMesas":
        ruta = "editorMesas.html";
        break;
      case "inventario":
        ruta = "inventario.html";
        break;
      case "arqueos":
        ruta = "arqueos.html";
        break;
      case "config":
        ruta = "config.html";
        break;
      case "home":
      default:
        ruta = "home.html";
        break;
    }

    fetch(ruta)
      .then(response => response.text())
      .then(html => {
        document.getElementById("view-container").innerHTML = html;
        // Cargar el script específico para la vista de usuarios
        if (vista === "usuarios") {
          const script = document.createElement("script");
          script.type = "module";
          script.src = "scripts/usuarios.js";
          document.body.appendChild(script);
        }
      })
      .catch(err => {
        console.error("Error cargando vista:", err);
        document.getElementById("errorMessage").textContent = "Error al cargar la vista: " + err.message;
      });
  }
  
  function cerrarSesion() {
    // Lógica para cerrar sesión
  }
</script>

<body>
  <!-- NAVBAR -->
  <div class="navbar">
    <!-- Íconos izquierda -->
    <div class="nav-icons">
      <img src="images/tacoslogo.png" class="logo" title="Tacos y Papas" onclick="cargarVista('home')" />
      <img src="images/table2.png" title="Mesas" onclick="cargarVista('mesas')" />
      <img src="images/edit.png" title="Editar Mesas" onclick="cargarVista('editarMesas')" />
      <div class="divider"></div>
      <img src="images/menu.png" title="Productos" onclick="cargarVista('menu')" />
      <img src="images/inventario.png" title="Inventario" onclick="cargarVista('inventario')" />
      <div class="divider"></div>
      <img src="images/cashier.png" title="Corte de Caja" onclick="cargarVista('arqueos')" />
      <img src="images/user.png" title="Usuarios" onclick="cargarVista('usuarios')" />
    </div>

    <!-- Fecha y hora al centro -->
    <div class="datetime">
      <div id="fecha"></div>
      <div id="hora"></div>
    </div>

    <!-- Íconos derecha -->
    <div class="nav-icons">
      <img src="images/printer.png" title="Configurar ticketera" onclick="cargarVista('config')" />
      <img src="images/logout.png" title="Cerrar sesión" onclick="cerrarSesion()" />
    </div>
  </div>

  <!-- Contenedor de contenido dinámico -->
  <div id="view-container" class="view-container">
    <!-- Aquí se cargará el contenido externo -->
  </div>
  <div id="errorMessage"></div>

  <script src="script.js"></script>
</body>
</html>